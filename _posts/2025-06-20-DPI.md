# Bit and Byte

|单位	|	含义  |
|-------|----------|
|  bit	|	0 or 1 |
| byte	 |  1 byte = 8 bits |

# Hexadecimal 十六进制

十六进制的符号

| 十六进制 |	十进制 |
|--------|----------|
| 0 ~ 9 |	0 ~ 9 |
| A	| 10 |
| B	| 11 |
| C	| 12 |
| D	| 13 |
| E	| 14 |
| F | 15 |

0x10

$$0x10 = 1 × 16¹ + 0 × 16⁰ = 16 + 0 = 16 $$

0xFF

$$0xFF = 15 × 16 + 15 = 240 + 15 = 255$$

0xFFFF

$$0xFFFF = F×16³ + F×16² + F×16¹ + F×16⁰
       = 15×4096 + 15×256 + 15×16 + 15×1
       = 61440 + 3840 + 240 + 15
       = 65535$$

编程语言中使用 0x 前缀代表十六进制
历史原因：
在 C 语言中，0x 是表示十六进制数的标准方式
后来几乎所有主流编程语言（如 C++、Java、Python、JavaScript、Go 等）都沿用了这个约定

<!--
# xDR结构

## Local Province   2Byte
【释义】拜访地省份
【初始值】 全F (FFFF)
【取值范围】0-全F
【处理方式】解析层不填，由合成服务器关联回填。

$$2^{16} = (2^4)^4$$

## Local City    2Byte
【释义】拜访地地市
【初始值】 全F (FFFF)
【取值范围】0-全F
【处理方式】解析层不填，由合成服务器关联回填。
支持 GNB IP段，TAC，ECI 工参 进行local city回填；

“全F”
指字段的 初始值为 0xFFFF（十六进制）
在 2 字节字段中，0xFFFF = 二进制 11111111 11111111，表示“未赋值”或“无效值”
类似于编程中的 NULL、-1、或 UNDEFINED

“0-全F”
表示字段的合法取值范围是：
从 0x0000（即 0） 到 0xFFFF（即 65535）
所以字段可以是：
0（有效值）
1, 2, ..., 65534（有效值）
65535（0xFFFF，无效值，用于占位）

为什么用 0xFFFF 表示无效？
因为 2 字节字段最大值是 65535（0xFFFF）
用最大值表示无效或未填充，是一种常见的“保留值”做法
避免使用 0 表示无效，因为 0 可能是合法的城市或省份编号

## Owner city 2 bytes

## Roaming type

# DPI设备

## DPI识别规则要求

DPI设备可根据自有识别规则库进行业务识别，同时也应支持根据指定的统一识别规则库进行识别。对于统一识别规则库范围内的业务，以统一识别规则库的识别结果为准；对于统一规则库范围之外的业务，可使用设备的自有规则库补充识别。

## DPI设备识别业务编号要求/规范
* 对于统一DPI产生的各XDR话单中，应用大类（字段：APP Type）编号为2位，如：01,02……每一类业务大类编号与附录A保持一致；
编号67为省公司自定义业务大类，用于表示省公司自定义的业务。如出现本规范无约定的或者厂家有独特意义的应用大类，第一位标示为7或8或9，即70-99代表厂家私有大类。
					
* 对于统一DPI产生的各XDR话单中，应用小类（字段：APP Sub-type）编号为5位	，如：12345，业务小类编号与附录B保持一致；
对于省公司自定义的业务大类，为避免各省之间的自定义业务编号重复，通过小类编号区分各省，编号范围分配表见附录E。
如出现本规范无约定的或者厂家有独特意义的应用小类，第一位标示为7或8或9，即70000-99999代表厂家私有小类。
					
* 对于统一DPI产生的各XDR话单中，应用小类细分（字段：APP Content）编号为3位，如：001。如该业务只有一项（即无其他子项），则为000，如该业务有两个（含）以上子项，则从001开始编号，本业务不再出现000编号。
	
|    App Type	| App Sub-type	| APP Content |
|---------|----------|-----------|
| 微信	| 1	 | 9	| 1 |
|微信朋友圈	| 1	| 9	| 2 |

## DPI识别业务编号表要求/规范

深度包检测设备OMC = Operation and Maintenance Center（操作维护中心）OMC 是通信网络中一个集中管理、监控和维护网络设备的系统。它通常用于管理和配置通信设备（如基站、核心网设备、DPI设备等），并接收设备上报的性能数据、告警信息、配置文件等。支持将系统内深度包检测设备的业务识别编号表上传至指定系统，采用SFTP (SFTP = SSH File Transfer Protocol)接口，可配置定时、编号表更新时上传。上传接口可通过配置关闭或启用，具备失败重传机制和上传日志记录。DPI 设备中有一个叫做“业务识别编号表”的配置文件，它用于识别不同的业务类型（如微信、抖音、视频等）。OMC 系统可以通过 SFTP 协议：

* 将这个表上传到远程服务器（如大数据平台、日志系统、合成系统等）
* 支持两种触发方式：
  * 定时上传（比如每天凌晨2点）
  * 当编号表更新时自动上传
* 上传接口可以被配置开启或关闭
* 如果上传失败，系统会自动重试
* 所有上传行为都会记录日志，便于排查问题


对文件名做如下的格式要求：
%P_%Y%m%d%H%M%S_%C_%L_%E.txt

文件内容包含以下内容：
大类编号，大类名称，小类编号，	小类名称，精细化识别编号，精细化识别名称，编号来源，备注。        
文件中以行区分不同业务编号；各字段之间以符号“|”分隔各列，代表不同的域；若该字段不涉及或无法获取，则直接置空。文件的最后包括该文件的总编号记录数、编号表更新时间，在文件首行输出表头。
-->